See [ex13.14](ex13.14.cpp), [ex13.15](ex13.15.cpp) and [ex13.16](ex13.16.cpp).
